AUI.add("aui-notify",function(p){var d=p.Lang,k=d.isNumber,i=d.isString,r="alert",w="boundingBox",c="info",g="notice",b="rendered",a="timeout",j="type",s="visible",o="notify-item",l=[a],u=p.Widget.prototype._UI_ATTRS,v=p.ClassNameManager.getClassName;p.NotifyItem=p.Base.create(o,p.Widget,[p.WidgetAutohide,p.WidgetChild,p.WidgetPosition,p.WidgetPositionAlign,p.WidgetStdMod],{_hiding:false,_timerId:null,bindUI:function(){var z=this;z.after("renderedChange",z._afterRender);},renderUI:function(){var z=this,A=z.get(w),C=z.get(j);A.addClass(v(o,C));},_afterHideTransitionEnd:function(){var z=this,A=p.bind(p.NotifyItem.superclass._uiSetVisible,z,false);z._hiding=false;A();z.fire("hideTransitionEnd");},_afterRender:function(){var z=this;z._uiSetTimeout(z.get(a));},_syncUIPosAlign:function(){var z=this,A=z.get(s);if(!A&&z._hiding){return;}p.WidgetPositionAlign.prototype._syncUIPosAlign.apply(z,arguments);},_uiSetTimeout:function(A){var z=this;if(z.get(b)){clearTimeout(z._timerId);if(A<Infinity){z._timerId=setTimeout(p.bind(z.hide,z),z.get(a));}}},_uiSetVisible:function(H){var z=this,C=z.get(w),D=C.getDOM(),F=z.get("showTransition"),A=z.get("hideTransition"),E=p.bind(p.NotifyItem.superclass._uiSetVisible,z,H);if(H&&!F){E();return;}if(!H&&!A){E();z.fire("hideTransitionEnd");return;}if(H){if(F.hasOwnProperty("opacity")&&(D.style.opacity==="")){C.setStyle("opacity",0);}C.transition(F,E);}else{var G=A.duration*1000;z._hiding=true;C.transition(A);setTimeout(p.bind(z._afterHideTransitionEnd,z),G);}},_UI_ATTRS:{BIND:u.BIND.concat(l),SYNC:u.SYNC.concat(l)}},{ATTRS:{hideOn:{valueFn:function(){return[{node:this.get(w),eventName:"click"}];},validator:p.Lang.isArray},hideTransition:{value:{opacity:0,duration:1}},showTransition:{value:{opacity:1}},timeout:{validator:function(z){return k(z)||z===Infinity;},value:Infinity},type:{validator:function(z){return(z===r||z===c||z===g);},value:r}}});var m="alignNode",t="body",y="center",q="direction",h="id",x="indent",e="maxRows",n="position",f="px";REGION="region",B="b",BL="bl",BR="br",L="l",R="r",T="t",TL="tl",TR="tr",POSITIONS={b:[p.WidgetPositionAlign.TL,p.WidgetPositionAlign.BL],bl:[p.WidgetPositionAlign.BL,p.WidgetPositionAlign.BL],br:[p.WidgetPositionAlign.BR,p.WidgetPositionAlign.BR],l:[p.WidgetPositionAlign.TR,p.WidgetPositionAlign.TL],r:[p.WidgetPositionAlign.TL,p.WidgetPositionAlign.TR],t:[p.WidgetPositionAlign.BL,p.WidgetPositionAlign.TL],tl:[p.WidgetPositionAlign.TL,p.WidgetPositionAlign.TL],tr:[p.WidgetPositionAlign.TR,p.WidgetPositionAlign.TR]},p.NotifyContainer=p.Base.create("notify-container",p.Widget,[p.WidgetParent],{_regions:null,initializer:function(){var z=this;z._regions={};},bindUI:function(){var z=this;z.after({"addChild":z._afterAdd,"notify-item:hideTransitionEnd":z._afterChildHideTransitionEnd,"notify-item:renderedChange":z._afterChildRender});},_afterAdd:function(z){var J=this,C=z.child,H=J.get(q),K=J.size(),D=J.get(x),F=z.index,A=J.get(m),E=POSITIONS[J.get(n)];if(K>1){var I=J.get(e),G;if((K%I)===1||I===1){G=J.item(F-I);E=POSITIONS[D];}else{G=J.item(F-1);E=POSITIONS[H];}A=G.get(w);}if(E===y){C.centered(A);}else{C.align(A,E);}},_afterChildHideTransitionEnd:function(C){var z=this,D=C.target,A=z.indexOf(D);z._swapRegions(A);z._moveChildren(A);delete z._regions[D.get(h)];z.remove(A);},_afterChildRender:function(C){var z=this,E=C.target,A=E.get(w),D=A.get(REGION);z._regions[E.get(h)]={height:D.height,left:A.get("offsetLeft"),top:A.get("offsetTop"),width:D.width};},_checkDimensionDiffs:function(F){var I=this,K=I.size(),H=I.get(e),A=Math.floor(F/H+1),D=Math.floor(K/H+1),E=F+1;for(;A<=D;A++){var G=0,J=(A*H);for(;(E<J)&&(E<K);E++){if((E%H)==0){continue;}var C=I.item(E),z=I._regions[C.get(h)];previousChild=I.item(E-1),previousRegion=I._regions[previousChild.get(h)];G=G+(z.height-previousRegion.height);z.top=z.top+G;}}},_moveChildren:function(A){var z=this;z.each(function(F,C){if(C<=A){return;}var E=z._regions[F.get(h)];if(!E){return;}var D=F.get(w);D.transition({top:E.top+f,left:E.left+f});});},_swapRegions:function(A){var z=this,E=z.size()-1;z._checkDimensionDiffs(A);for(;E>A;E--){var F=z.item(E),D=z.item(E-1),C=z._regions[D.get(h)];z._regions[F.get(h)].top=C.top;z._regions[F.get(h)].left=C.left;}}},{ATTRS:{alignNode:{value:t},defaultChildType:{value:p.NotifyItem,readOnly:true},direction:{valueFn:function(){var z=this.get(n);if((z===T)||(z===TL)||(z===TR)){return B;}else{return T;}}},indent:{valueFn:function(){var z=this.get(n);if((z===R)||(z===BR)||(z===TR)){return L;}else{return R;}}},maxRows:{value:5},position:{value:TR}}});},"@VERSION@",{skinnable:true,requires:["aui-base","transition","widget","widget-autohide","widget-child","widget-parent","widget-position","widget-position-align","widget-stdmod"]});